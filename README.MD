# GeminiMySQLBot

A Streamlit and AI-based web application that allows users to query a MySQL database using **natural language prompts**.  
It integrates **Gemini API** for converting user input into SQL and executes those queries on a **XAMPP-based MySQL** database.

---

## ðŸš€ Features

- ðŸ’¬ Natural language to SQL using Gemini API
- ðŸ—ƒï¸ Real-time MySQL database integration via XAMPP
- ðŸ–¥ï¸ User-friendly Streamlit interface
- ðŸ§ª Built-in unit tests for Gemini API and DB connection
- ðŸ” Secure `.env` support for API keys and DB credentials

---

## ðŸ“ Project Structure

```
â”œâ”€â”€ app.py                 # Streamlit app entry point
â”œâ”€â”€ database.py           # MySQL database connection logic
â”œâ”€â”€ gemini_helper.py      # Handles Gemini API communication
â”œâ”€â”€ ui.py                 # Streamlit UI components
â”œâ”€â”€ .env                  # Stores API keys and DB config (not committed)
â”œâ”€â”€ requirements.txt      # Python dependencies
â”œâ”€â”€ resources/
â”‚   â””â”€â”€ sql.txt           # SQL examples and saved queries
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ list_models.py
â”‚   â”œâ”€â”€ test_db_connection.py
â”‚   â””â”€â”€ test_gemini.py
```

---

## âš™ï¸ Setup Instructions

### 1. Clone the Repository
```bash
git clone https://github.com/AnaghaSathyanarayanan/GeminiMySQLBot
cd GeminiMySQLBot
```

### 2. Create and Activate a Virtual Environment
```bash
python -m venv venv
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate
```

### 3. Install Dependencies
```bash
pip install -r requirements.txt
```

---

### 4. Start XAMPP and Create the Database

#### âœ… Open XAMPP Control Panel
- Start **Apache** and **MySQL** modules

#### âœ… Create a MySQL Database
1. Go to your browser and open **phpMyAdmin** via `http://localhost/phpmyadmin`
2. Click on **"New"** in the left sidebar
3. Name your database (e.g., `gemini_db`)
4. Create required tables (manually or via SQL script)

---

### 5. Configure `.env` File
Create a `.env` file in the root folder:

```
GEMINI_API_KEY=your_gemini_api_key
DB_HOST=localhost
DB_USER=root
DB_PASSWORD=
DB_NAME=gemini_db
```

> âš ï¸ Replace `your_gemini_api_key` and `DB_NAME` with your actual credentials.

---

### 6. Start the Streamlit App
```bash
streamlit run app.py
```

---

## âœ… Usage

1. Launch the app in your browser (usually at `http://localhost:8501`)
2. Enter a **natural language prompt**, such as:
   > "Show me the list of students enrolled in 2024"
3. Gemini API will convert your prompt to SQL, execute it, and display results.

---

## ðŸ§ª Testing

To run unit tests:

```bash
pytest tests/
```

---

## ðŸ“Œ Dependencies

- Python 3.x
- Streamlit
- google-generativeai (for Gemini)
- mysql-connector-python
- python-dotenv
- pytest

---

## ðŸ“„ License

MIT License

---

## âœ¨ Credits

Created by **AnaghaSathyanarayanan**  
Powered by **Gemini API**, **MySQL**, and **Streamlit**
